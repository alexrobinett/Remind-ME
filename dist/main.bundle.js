(()=>{"use strict";function e(e,t,n,d,c,s){if(!0===c){const d=document.querySelector(".reminder-container-completed"),c=document.createElement("div");c.classList.add("reminder"),c.classList.add("completed");const i=document.createElement("div");i.classList.add("circle"),i.classList.add("completed");const a=document.createElement("span");a.classList.add("task"),a.classList.add("completed"),a.textContent=`${e}`;const r=document.createElement("span");r.classList.add("description"),r.classList.add("completed"),r.textContent=`${t}`;const o=document.createElement("div");o.classList.add("right-side");const l=document.createElement("span");l.classList.add("due-date"),l.classList.add("completed"),l.textContent=`${n}`;const m=document.createElement("img");m.classList.add("edit"),m.classList.add("completed-icon"),m.src="/src/icons/text-box-edit.svg",m.alt="edit";const u=document.createElement("img");u.classList.add("delete"),u.classList.add("completed-icon"),u.src="/src/icons/trash-can-outline.svg",u.alt="trash",u.setAttribute("data-task",s),o.appendChild(l),o.appendChild(m),o.appendChild(u),c.appendChild(i),c.appendChild(a),c.appendChild(r),c.appendChild(o),d.appendChild(c)}else if(!1===c){const c=document.querySelector(".reminder-container"),i=document.createElement("div");i.classList.add("reminder");const a=document.createElement("div");a.classList.add("circle"),a.classList.add(`${d}`),a.setAttribute("data-task",s);const r=document.createElement("span");r.classList.add("task"),r.textContent=`${e}`;const o=document.createElement("span");o.classList.add("description"),o.textContent=`${t}`;const l=document.createElement("div");l.classList.add("right-side");const m=document.createElement("span");m.classList.add("due-date"),m.textContent=`${n}`;const u=document.createElement("img");u.classList.add("edit-btn"),u.src="/src/icons/text-box-edit.svg",u.alt="edit";const p=document.createElement("img");p.classList.add("delete-btn"),p.src="/src/icons/trash-can-outline.svg",p.alt="trash",p.setAttribute("data-task",s),l.appendChild(m),l.appendChild(u),l.appendChild(p),i.appendChild(a),i.appendChild(r),i.appendChild(o),i.appendChild(l),c.appendChild(i)}}function t(e){const t=document.querySelector(".project-list-ul"),n=document.createElement("li");n.classList.add("nav-item"),n.classList.add("project");const d=document.createElement("img");d.src="/src/icons/format-list-bulleted.svg";const c=document.createElement("span");c.textContent=`${e}`,n.appendChild(d),n.appendChild(c),t.appendChild(n)}function n(){const e=document.querySelector(".reminder-container");document.querySelector(".reminder-container-completed").innerHTML="",e.innerHTML=""}function d(){for(let e=0;e<a.length;e++)t(a[e].projectName)}function c(){for(let t=0;t<a[0].task.length;t++)e(a[0].task[t].reminderTitle,a[0].task[t].reminderDescription,a[0].task[t].reminderDueDate,a[0].task[t].reminderPriority,a[0].task[t].isComplete,a[0].task[t].reminderId)}const s=(e=!1,t)=>{let n=document.getElementById("reminder-title").value,d=document.getElementById("reminder-description").value,c=document.getElementById("reminder-priority").value;return{reminderTitle:n,reminderDescription:d,reminderDueDate:document.getElementById("reminder-due-date").value,reminderPriority:c,isComplete:e,toggleCompleted:function(){this.isComplete=!this.isComplete,console.log("isComplete set to",this.isComplete)},reminderId:Date.now()}},i=e=>({addTask:function(){this.task.push(s())},projectName:e,task:[]});let a=[];function r(){const e=document.querySelectorAll(".delete-btn"),t=document.querySelectorAll(".edit-btn"),d=document.querySelectorAll(".circle");e.forEach((function(e,t){e.setAttribute("data-task",t),e.addEventListener("click",(function(){var t;"delete-btn"==(t=e).classList?t.parentNode.parentNode.remove():"project"==t.parentNode.classList?t.parentNode.remove():console.log("error");let n=e.getAttribute("data-task");a[0].task.splice(n,1)}))})),t.forEach((function(e){e.addEventListener("click",(function(){m.classList.toggle("hidden")}))})),d.forEach((function(e,t){e.setAttribute("data-task",t),e.addEventListener("click",(function(){let t=e.getAttribute("data-task"),d=a[0].task[t];d.toggleCompleted.call(d),n(),c(),r()}))}))}window.projectsContainer=a,a.push(i("inbox")),a[0].addTask(),a[0].task[0].isComplete,a[0].task[0].reminderDescription="test description",a[0].task[0].reminderTitle="Test Reminder",a[0].task[0].reminderDueDate="12-22-23",a[0].task[0].reminderPriority="high",d(),c();const o=document.querySelector(".add-reminder"),l=document.querySelector(".modal"),m=document.querySelector(".modal-update"),u=document.querySelectorAll(".close-button"),p=document.querySelector("#create-reminder"),h=document.querySelector("#add-project");o.addEventListener("click",(function(e){l.classList.remove("hidden")})),u.forEach((function(e){e.addEventListener("click",(function(){!function(e){e.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("hidden")}(e)}))})),p.addEventListener("click",((e,t=a[0])=>{n(),t.addTask(),c(),l.classList.add("hidden"),r()})),h.addEventListener("click",(e=>{a.push(i(document.querySelector("#project-name").value)),document.querySelector(".project-list-ul").innerHTML="",d(),console.log("button clicked")})),r()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVdsQixFQUNiLEdBQ0YsSUFFQWMsRUFBa0JmLGlCQUFpQixTQUFRLENBQUNpQixFQUFHRyxFQUFVNUMsRUFBa0IsTUFDdkVKLElBQ0FnRCxFQUFRNUIsVUFDUmQsSUFDQW1DLEVBQVU5RCxVQUFVQyxJQUFJLFVBQ3hCMEMsR0FBYSxJQUtqQnNCLEVBQWlCaEIsaUJBQWlCLFNBQVNpQixJQUMzQ3pDLEVBQWtCaUIsS0FBS0gsRUFBYzNDLFNBQVNDLGNBQWMsaUJBQWlCbUMsUUZvRGhEcEMsU0FBU0MsY0FBYyxvQkFFL0J5QixVQUFZLEdFcERqQ0MsSUFFQVksUUFBUUMsSUFBSSxpQkFBZ0IsSUM5RDVCTyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL0pTL2Rpc3BsYXkuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL0pTL2NvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL0pTL2J1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb2plY3RzQ29udGFpbmVyIH0gZnJvbSBcIi4vY29udHJvbFwiO1xuXG5mdW5jdGlvbiBkaXNwbGF5UmVtaW5kZXJzKHJlbWluZGVyVGl0bGUsIHJlbWluZGVyRGVzY3JpcHRpb24sIHJlbWluZGVyRHVlRGF0ZSwgcmVtaW5kZXJQcmlvcml0eSwgaXNDb21wbGV0ZSwgcmVtaW5kZXJJZCl7XG5cbiAgICBpZihpc0NvbXBsZXRlID09PSB0cnVlKXtcbiAgICAgICAgY29uc3QgY29tcGxldGVkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZW1pbmRlci1jb250YWluZXItY29tcGxldGVkXCIpXG4gICAgICAgIGNvbnN0IHJlbWluZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcmVtaW5kZXJEaXYuY2xhc3NMaXN0LmFkZChcInJlbWluZGVyXCIpO1xuICAgICAgICByZW1pbmRlckRpdi5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkXCIpO1xuXG4gICAgICAgIGNvbnN0IGNpcmNsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNpcmNsZURpdi5jbGFzc0xpc3QuYWRkKFwiY2lyY2xlXCIpO1xuICAgICAgICBjaXJjbGVEaXYuY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZFwiKTtcblxuICAgICAgICBjb25zdCB0YXNrU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB0YXNrU3Bhbi5jbGFzc0xpc3QuYWRkKFwidGFza1wiKTtcbiAgICAgICAgdGFza1NwYW4uY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgdGFza1NwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlclRpdGxlfWA7XG5cbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uU3Bhbi5jbGFzc0xpc3QuYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uU3Bhbi5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkXCIpO1xuICAgICAgICBkZXNjcmlwdGlvblNwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlckRlc2NyaXB0aW9ufWA7XG5cbiAgICAgICAgY29uc3QgcmlnaHRTaWRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcmlnaHRTaWRlRGl2LmNsYXNzTGlzdC5hZGQoXCJyaWdodC1zaWRlXCIpO1xuXG4gICAgICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGR1ZURhdGVTcGFuLmNsYXNzTGlzdC5hZGQoXCJkdWUtZGF0ZVwiKTtcbiAgICAgICAgZHVlRGF0ZVNwYW4uY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgZHVlRGF0ZVNwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlckR1ZURhdGV9YDtcblxuICAgICAgICBjb25zdCBlZGl0QnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgZWRpdEJ0bkltZy5jbGFzc0xpc3QuYWRkKFwiZWRpdFwiKTtcbiAgICAgICAgZWRpdEJ0bkltZy5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkLWljb25cIik7XG4gICAgICAgIGVkaXRCdG5JbWcuc3JjID0gXCIvc3JjL2ljb25zL3RleHQtYm94LWVkaXQuc3ZnXCI7XG4gICAgICAgIGVkaXRCdG5JbWcuYWx0ID0gXCJlZGl0XCI7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgZGVsZXRlQnRuSW1nLmNsYXNzTGlzdC5hZGQoXCJkZWxldGVcIik7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkLWljb25cIik7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5zcmMgPSBcIi9zcmMvaWNvbnMvdHJhc2gtY2FuLW91dGxpbmUuc3ZnXCI7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5hbHQgPSBcInRyYXNoXCI7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIHJlbWluZGVySWQpO1xuXG4gICAgICAgIHJpZ2h0U2lkZURpdi5hcHBlbmRDaGlsZChkdWVEYXRlU3Bhbik7XG4gICAgICAgIHJpZ2h0U2lkZURpdi5hcHBlbmRDaGlsZChlZGl0QnRuSW1nKTtcbiAgICAgICAgcmlnaHRTaWRlRGl2LmFwcGVuZENoaWxkKGRlbGV0ZUJ0bkltZyk7XG5cbiAgICAgICAgcmVtaW5kZXJEaXYuYXBwZW5kQ2hpbGQoY2lyY2xlRGl2KTtcbiAgICAgICAgcmVtaW5kZXJEaXYuYXBwZW5kQ2hpbGQodGFza1NwYW4pO1xuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZChkZXNjcmlwdGlvblNwYW4pO1xuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZChyaWdodFNpZGVEaXYpO1xuICAgICAgICBjb21wbGV0ZWRDb250YWluZXIuYXBwZW5kQ2hpbGQocmVtaW5kZXJEaXYpXG5cbiAgICB9ZWxzZSBpZiAoaXNDb21wbGV0ZSA9PT0gZmFsc2Upe1xuXG4gICAgICAgIGNvbnN0IHJlbWluZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZW1pbmRlci1jb250YWluZXJcIilcblxuICAgICAgICBjb25zdCByZW1pbmRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJlbWluZGVyRGl2LmNsYXNzTGlzdC5hZGQoXCJyZW1pbmRlclwiKTtcblxuICAgICAgICBjb25zdCBjaXJjbGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjaXJjbGVEaXYuY2xhc3NMaXN0LmFkZChcImNpcmNsZVwiKTtcbiAgICAgICAgY2lyY2xlRGl2LmNsYXNzTGlzdC5hZGQoYCR7cmVtaW5kZXJQcmlvcml0eX1gKTtcbiAgICAgICAgY2lyY2xlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrJywgcmVtaW5kZXJJZClcblxuICAgICAgICBjb25zdCB0YXNrU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB0YXNrU3Bhbi5jbGFzc0xpc3QuYWRkKFwidGFza1wiKTtcbiAgICAgICAgdGFza1NwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlclRpdGxlfWA7XG5cbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uU3Bhbi5jbGFzc0xpc3QuYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uU3Bhbi50ZXh0Q29udGVudCA9IGAke3JlbWluZGVyRGVzY3JpcHRpb259YDtcblxuICAgICAgICBjb25zdCByaWdodFNpZGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByaWdodFNpZGVEaXYuY2xhc3NMaXN0LmFkZChcInJpZ2h0LXNpZGVcIik7XG5cbiAgICAgICAgY29uc3QgZHVlRGF0ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgZHVlRGF0ZVNwYW4uY2xhc3NMaXN0LmFkZChcImR1ZS1kYXRlXCIpO1xuICAgICAgICBkdWVEYXRlU3Bhbi50ZXh0Q29udGVudCA9IGAke3JlbWluZGVyRHVlRGF0ZX1gO1xuXG4gICAgICAgIGNvbnN0IGVkaXRCdG5JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBlZGl0QnRuSW1nLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiKTtcbiAgICAgICAgZWRpdEJ0bkltZy5zcmMgPSBcIi9zcmMvaWNvbnMvdGV4dC1ib3gtZWRpdC5zdmdcIjtcbiAgICAgICAgZWRpdEJ0bkltZy5hbHQgPSBcImVkaXRcIjtcblxuICAgICAgICBjb25zdCBkZWxldGVCdG5JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBkZWxldGVCdG5JbWcuY2xhc3NMaXN0LmFkZChcImRlbGV0ZS1idG5cIik7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5zcmMgPSBcIi9zcmMvaWNvbnMvdHJhc2gtY2FuLW91dGxpbmUuc3ZnXCI7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5hbHQgPSBcInRyYXNoXCI7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIHJlbWluZGVySWQpO1xuXG5cbiAgICBcbiAgICAgICAgcmlnaHRTaWRlRGl2LmFwcGVuZENoaWxkKGR1ZURhdGVTcGFuKTtcbiAgICAgICAgcmlnaHRTaWRlRGl2LmFwcGVuZENoaWxkKGVkaXRCdG5JbWcpO1xuICAgICAgICByaWdodFNpZGVEaXYuYXBwZW5kQ2hpbGQoZGVsZXRlQnRuSW1nKTtcblxuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZChjaXJjbGVEaXYpO1xuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZCh0YXNrU3Bhbik7XG4gICAgICAgIHJlbWluZGVyRGl2LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uU3Bhbik7XG4gICAgICAgIHJlbWluZGVyRGl2LmFwcGVuZENoaWxkKHJpZ2h0U2lkZURpdik7XG4gICAgICAgIHJlbWluZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlbWluZGVyRGl2KVxuICAgIH1cblxufVxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0VGl0bGUocHJvamVjdCl7XG4gICAgY29uc3QgcHJvamVjdE5hbWVEaXNwbGF5ZXI9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10aXRsZS1ob2xkZXJcIilcbiAgICBwcm9qZWN0TmFtZURpc3BsYXllci50ZXh0Q29udGVudCA9IGAke3Byb2plY3R9YFxufVxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0KHByb2plY3ROYW1lKXtcbiAgICBjb25zdCBwcm9qZWN0TGlzdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1saXN0LXVsXCIpXG5cbiAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwibmF2LWl0ZW1cIilcbiAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKVxuXG4gICAgY29uc3QgbGlzdEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIilcbiAgICBsaXN0SW1nLnNyYyA9IFwiL3NyYy9pY29ucy9mb3JtYXQtbGlzdC1idWxsZXRlZC5zdmdcIlxuXG4gICAgY29uc3QgcHJvamVjdFRpdGxlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICBwcm9qZWN0VGl0bGVIb2xkZXIudGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0TmFtZX1gXG5cbiAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChsaXN0SW1nKVxuICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZUhvbGRlcilcblxuICAgIHByb2plY3RMaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RJdGVtKVxufVxuXG5mdW5jdGlvbiBjbGVhclByb2plY3RMaXN0KCl7XG4gICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1saXN0LXVsXCIpXG5cbiAgICBwcm9qZWN0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCJcbn1cblxuXG5cbmZ1bmN0aW9uIGNsZWFyUmVtaW5kZXJMaXN0KCl7XG4gICAgY29uc3QgcmVtaW5kZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlbWluZGVyLWNvbnRhaW5lclwiKVxuICAgIGNvbnN0IGNvbXBsZXRlZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVtaW5kZXItY29udGFpbmVyLWNvbXBsZXRlZFwiKVxuXG4gICAgY29tcGxldGVkQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCJcbiAgICByZW1pbmRlckNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXG59XG5cblxuXG5cbmZ1bmN0aW9uIHJlbmRlclByb2plY3RMaXN0KCl7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RzQ29udGFpbmVyLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgZGlzcGxheVByb2plY3QocHJvamVjdHNDb250YWluZXJbaV0ucHJvamVjdE5hbWUpXG4gICAgfVxuICAgIFxufVxuXG5cblxuXG5mdW5jdGlvbiByZW5kZXJSZW1pbmRlcnNMaXN0KCl7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0c0NvbnRhaW5lclswXS50YXNrLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgZGlzcGxheVJlbWluZGVycyhwcm9qZWN0c0NvbnRhaW5lclswXS50YXNrW2ldLnJlbWluZGVyVGl0bGUsIHByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbaV0ucmVtaW5kZXJEZXNjcmlwdGlvbiwgcHJvamVjdHNDb250YWluZXJbMF0udGFza1tpXS5yZW1pbmRlckR1ZURhdGUsIHByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbaV0ucmVtaW5kZXJQcmlvcml0eSwgcHJvamVjdHNDb250YWluZXJbMF0udGFza1tpXS5pc0NvbXBsZXRlLCBwcm9qZWN0c0NvbnRhaW5lclswXS50YXNrW2ldLnJlbWluZGVySWQpXG4gICAgfVxufVxuXG5cblxuZXhwb3J0e2Rpc3BsYXlSZW1pbmRlcnMsIGRpc3BsYXlQcm9qZWN0VGl0bGUsIGRpc3BsYXlQcm9qZWN0LCByZW5kZXJSZW1pbmRlcnNMaXN0LCBjbGVhclJlbWluZGVyTGlzdCwgY2xlYXJQcm9qZWN0TGlzdCwgcmVuZGVyUHJvamVjdExpc3R9IiwiaW1wb3J0IHsgcmVuZGVyUmVtaW5kZXJzTGlzdCwgcmVuZGVyUHJvamVjdExpc3QgfSBmcm9tIFwiLi9kaXNwbGF5XCI7XG5pbXBvcnQgeyBhZGRMaXN0ZW5lcnMgfSBmcm9tIFwiLi9idXR0b25zXCI7XG5cblxuY29uc3QgY3JlYXRlUmVtaW5kZXIgPSAoaXNDb21wbGV0ZSA9IGZhbHNlLCBpZCkgPT4ge1xuICAgIGxldCByZW1pbmRlclRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW1pbmRlci10aXRsZVwiKS52YWx1ZVxuICAgIGxldCByZW1pbmRlckRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW1pbmRlci1kZXNjcmlwdGlvblwiKS52YWx1ZVxuICAgIGxldCByZW1pbmRlclByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW1pbmRlci1wcmlvcml0eVwiKS52YWx1ZVxuICAgIGxldCByZW1pbmRlckR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbWluZGVyLWR1ZS1kYXRlXCIpLnZhbHVlXG4gICAgbGV0IHJlbWluZGVySWQgPSBEYXRlLm5vdygpXG5cbiAgICBmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQoKSB7XG4gICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9ICF0aGlzLmlzQ29tcGxldGU7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaXNDb21wbGV0ZSBzZXQgdG9cIiwgdGhpcy5pc0NvbXBsZXRlKTtcbiAgICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbWluZGVyVGl0bGUsXG4gICAgICAgIHJlbWluZGVyRGVzY3JpcHRpb24sXG4gICAgICAgIHJlbWluZGVyRHVlRGF0ZSxcbiAgICAgICAgcmVtaW5kZXJQcmlvcml0eSxcbiAgICAgICAgaXNDb21wbGV0ZSxcbiAgICAgICAgdG9nZ2xlQ29tcGxldGVkLFxuICAgICAgICByZW1pbmRlcklkXG4gICAgfTtcbn07XG5cblxuXG5jb25zdCBjcmVhdGVQcm9qZWN0ID0gKG5hbWUpID0+IHtcbiAgICBsZXQgcHJvamVjdE5hbWUgPSBuYW1lXG4gICAgbGV0IHRhc2sgPSBbXVxuXG4gICAgZnVuY3Rpb24gYWRkVGFzaygpe1xuICAgICAgICB0aGlzLnRhc2sucHVzaChjcmVhdGVSZW1pbmRlcigpKVxuICAgIH1cblxuIFxuXG4gICAgcmV0dXJuIHsgXG4gICAgICAgIGFkZFRhc2ssXG4gICAgICAgIHByb2plY3ROYW1lLFxuICAgICAgICB0YXNrXG4gICAgfTtcblxuICB9O1xuXG5cblxubGV0IHByb2plY3RzQ29udGFpbmVyID0gW11cblxud2luZG93LnByb2plY3RzQ29udGFpbmVyID0gcHJvamVjdHNDb250YWluZXJcblxucHJvamVjdHNDb250YWluZXIucHVzaChjcmVhdGVQcm9qZWN0KFwiaW5ib3hcIikpXG5cbnByb2plY3RzQ29udGFpbmVyWzBdLmFkZFRhc2soKVxuXG5wcm9qZWN0c0NvbnRhaW5lclswXS50YXNrWzBdLmlzQ29tcGxldGVcbnByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbMF0ucmVtaW5kZXJEZXNjcmlwdGlvbiA9IFwidGVzdCBkZXNjcmlwdGlvblwiXG5wcm9qZWN0c0NvbnRhaW5lclswXS50YXNrWzBdLnJlbWluZGVyVGl0bGUgPSBcIlRlc3QgUmVtaW5kZXJcIlxucHJvamVjdHNDb250YWluZXJbMF0udGFza1swXS5yZW1pbmRlckR1ZURhdGUgPSBcIjEyLTIyLTIzXCJcbnByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbMF0ucmVtaW5kZXJQcmlvcml0eSA9IFwiaGlnaFwiXG5cbnJlbmRlclByb2plY3RMaXN0KClcbnJlbmRlclJlbWluZGVyc0xpc3QoKVxuXG5cbmV4cG9ydHtjcmVhdGVSZW1pbmRlcixjcmVhdGVQcm9qZWN0LHByb2plY3RzQ29udGFpbmVyfVxuICBcblxuXG4iLCJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0LCBwcm9qZWN0c0NvbnRhaW5lciwgdG9nZ2xlQ29tcGxldGVkLCBjcmVhdGVSZW1pbmRlcn0gZnJvbSBcIi4vY29udHJvbFwiXG5pbXBvcnQgeyBjbGVhclJlbWluZGVyTGlzdCwgcmVuZGVyUmVtaW5kZXJzTGlzdCwgZGlzcGxheVByb2plY3QsIHJlbmRlclByb2plY3RMaXN0LCBjbGVhclByb2plY3RMaXN0IH0gZnJvbSBcIi4vZGlzcGxheVwiXG5cbi8vIGNvbnN0IGNyZWF0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIpXG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwoZWxlbWVudCl7XG4gICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG4gICAgfVxuICBcbmZ1bmN0aW9uIHJlbW92ZURpc3BsYXkoZWxlbWVudCl7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QgPT0gXCJkZWxldGUtYnRuXCIpe1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKVxuICAgICAgfWVsc2UgaWYgKGVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QgPT0gXCJwcm9qZWN0XCIpe1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlKClcbiAgICAgIH1lbHNlIGNvbnNvbGUubG9nKFwiZXJyb3JcIilcblxufVxuXG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVycygpe1xuXG5jb25zdCBkZWxldGVSZW1pbmRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsZXRlLWJ0blwiKVxuY29uc3QgZWRpdFJlbWluZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LWJ0blwiKVxuY29uc3QgdG9nZ2xlQ29tcGxldGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jaXJjbGVcIilcbiAgXG4gICBkZWxldGVSZW1pbmRlckJ0bi5mb3JFYWNoKCBmdW5jdGlvbiAoaSwgaW5kZXgsICkge1xuICAgIGkuc2V0QXR0cmlidXRlKFwiZGF0YS10YXNrXCIsIGluZGV4KTtcbiAgICBpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIHJlbW92ZURpc3BsYXkoaSlcbiAgICAgIGxldCB0YXNrSW5kZXggPSBpLmdldEF0dHJpYnV0ZShcImRhdGEtdGFza1wiKTtcbiAgICAgIHByb2plY3RzQ29udGFpbmVyWzBdLnRhc2suc3BsaWNlKHRhc2tJbmRleCwgMSk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgICBlZGl0UmVtaW5kZXJCdG4uZm9yRWFjaCggZnVuY3Rpb24gKGkpIHtcbiAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB1cGRhdGVGb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICB0b2dnbGVDb21wbGV0ZWQuZm9yRWFjaChmdW5jdGlvbiAoaSwgaW5kZXgpIHtcbiAgICAgICAgaS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhc2tcIiwgaW5kZXgpO1xuICAgICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbGV0IHRhc2tJbmRleCA9IGkuZ2V0QXR0cmlidXRlKFwiZGF0YS10YXNrXCIpO1xuICAgICAgICAgIGxldCByZW1pbmRlciA9IHByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbdGFza0luZGV4XTtcbiAgICAgICAgICByZW1pbmRlci50b2dnbGVDb21wbGV0ZWQuY2FsbChyZW1pbmRlcik7XG4gICAgICAgICAgY2xlYXJSZW1pbmRlckxpc3QoKVxuICAgICAgICAgIHJlbmRlclJlbWluZGVyc0xpc3QoKVxuICAgICAgICAgIGFkZExpc3RlbmVycygpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbn1cblxuXG5jb25zdCBhZGRSZW1pbmRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXJlbWluZGVyXCIpXG5jb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpXG5jb25zdCB1cGRhdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC11cGRhdGVcIilcbmNvbnN0IGNsb3NlUmVtaW5kZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNsb3NlLWJ1dHRvblwiKVxuY29uc3QgY3JlYXRlUmVtaW5kZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NyZWF0ZS1yZW1pbmRlclwiKVxuY29uc3QgY3JlYXRlUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLXByb2plY3RcIilcblxuYWRkUmVtaW5kZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIHRvZ2dsZU1vZGFsKGUpe1xuICAgIGlucHV0Rm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpXG59KTtcblxuY2xvc2VSZW1pbmRlckJ0bi5mb3JFYWNoKCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICBjbG9zZU1vZGFsKGVsZW1lbnQpXG4gIH0pXG59KTtcblxuY3JlYXRlUmVtaW5kZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGUsIHByb2plY3QgPSBwcm9qZWN0c0NvbnRhaW5lclswXSkgPT4geyAgICBcbiAgICBjbGVhclJlbWluZGVyTGlzdCgpXG4gICAgcHJvamVjdC5hZGRUYXNrKClcbiAgICByZW5kZXJSZW1pbmRlcnNMaXN0KClcbiAgICBpbnB1dEZvcm0uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuICAgIGFkZExpc3RlbmVycygpXG59KTtcblxuXG5cbmNyZWF0ZVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGUpID0+IHsgICAgXG5wcm9qZWN0c0NvbnRhaW5lci5wdXNoKGNyZWF0ZVByb2plY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LW5hbWVcIikudmFsdWUpKVxuY2xlYXJQcm9qZWN0TGlzdCgpXG5yZW5kZXJQcm9qZWN0TGlzdCgpXG5cbmNvbnNvbGUubG9nKFwiYnV0dG9uIGNsaWNrZWRcIilcbn0pO1xuXG5cblxuXG4gIGV4cG9ydCB7YWRkTGlzdGVuZXJzfSIsImltcG9ydCB7YWRkTGlzdGVuZXJzfSBmcm9tICcuL0pTL2J1dHRvbnMuanMnXG5pbXBvcnQgeyBjcmVhdGVSZW1pbmRlciwgUHJvamVjdCB9IGZyb20gJy4vSlMvY29udHJvbCdcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0TGlzdCwgZGlzcGxheVByb2plY3RUaXRsZSwgZGlzcGxheVJlbWluZGVycywgcmVuZGVyUmVtaW5kZXJzTGlzdCB9IGZyb20gJy4vSlMvZGlzcGxheSdcblxuLy8gd2luZG93LmRpc3BsYXlSZW1pbmRlcnMgPSBkaXNwbGF5UmVtaW5kZXJzXG5cblxuXG4vLyB3aW5kb3cuaW5ib3ggPSBpbmJveFxuXG4vLyB3aW5kb3cuZGlzcGxheVByb2plY3RUaXRsZSA9IGRpc3BsYXlQcm9qZWN0VGl0bGVcblxuLy8gd2luZG93LmRpc3BsYXlQcm9qZWN0TGlzdCA9IGRpc3BsYXlQcm9qZWN0TGlzdFxuXG5cbmNvbnN0IEFQUCA9IChmdW5jdGlvbiAoKXtcblxuXG4gIHJldHVybntcbiAgfVxuXG5cbn0pKCk7XG5cblxuYWRkTGlzdGVuZXJzKClcbiJdLCJuYW1lcyI6WyJkaXNwbGF5UmVtaW5kZXJzIiwicmVtaW5kZXJUaXRsZSIsInJlbWluZGVyRGVzY3JpcHRpb24iLCJyZW1pbmRlckR1ZURhdGUiLCJyZW1pbmRlclByaW9yaXR5IiwiaXNDb21wbGV0ZSIsInJlbWluZGVySWQiLCJjb21wbGV0ZWRDb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1pbmRlckRpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjaXJjbGVEaXYiLCJ0YXNrU3BhbiIsInRleHRDb250ZW50IiwiZGVzY3JpcHRpb25TcGFuIiwicmlnaHRTaWRlRGl2IiwiZHVlRGF0ZVNwYW4iLCJlZGl0QnRuSW1nIiwic3JjIiwiYWx0IiwiZGVsZXRlQnRuSW1nIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJyZW1pbmRlckNvbnRhaW5lciIsImRpc3BsYXlQcm9qZWN0IiwicHJvamVjdE5hbWUiLCJwcm9qZWN0TGlzdENvbnRhaW5lciIsImxpc3RJdGVtIiwibGlzdEltZyIsInByb2plY3RUaXRsZUhvbGRlciIsImNsZWFyUmVtaW5kZXJMaXN0IiwiaW5uZXJIVE1MIiwicmVuZGVyUHJvamVjdExpc3QiLCJpIiwicHJvamVjdHNDb250YWluZXIiLCJsZW5ndGgiLCJyZW5kZXJSZW1pbmRlcnNMaXN0IiwidGFzayIsImNyZWF0ZVJlbWluZGVyIiwiaWQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwidG9nZ2xlQ29tcGxldGVkIiwidGhpcyIsImNvbnNvbGUiLCJsb2ciLCJEYXRlIiwibm93IiwiY3JlYXRlUHJvamVjdCIsIm5hbWUiLCJhZGRUYXNrIiwicHVzaCIsImFkZExpc3RlbmVycyIsImRlbGV0ZVJlbWluZGVyQnRuIiwicXVlcnlTZWxlY3RvckFsbCIsImVkaXRSZW1pbmRlckJ0biIsImZvckVhY2giLCJpbmRleCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZSIsInRhc2tJbmRleCIsImdldEF0dHJpYnV0ZSIsInNwbGljZSIsInVwZGF0ZUZvcm0iLCJ0b2dnbGUiLCJyZW1pbmRlciIsImNhbGwiLCJ3aW5kb3ciLCJhZGRSZW1pbmRlckJ0biIsImlucHV0Rm9ybSIsImNsb3NlUmVtaW5kZXJCdG4iLCJjcmVhdGVSZW1pbmRlckJ0biIsImNyZWF0ZVByb2plY3RCdG4iLCJlIiwicGFyZW50RWxlbWVudCIsImNsb3NlTW9kYWwiLCJwcm9qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==