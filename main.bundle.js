(()=>{"use strict";function e(e,t,n,d,c,s){if(!0===c){const d=document.querySelector(".reminder-container-completed"),c=document.createElement("div");c.classList.add("reminder"),c.classList.add("completed");const i=document.createElement("div");i.classList.add("circle"),i.classList.add("completed");const a=document.createElement("span");a.classList.add("task"),a.classList.add("completed"),a.textContent=`${e}`;const o=document.createElement("span");o.classList.add("description"),o.classList.add("completed"),o.textContent=`${t}`;const r=document.createElement("div");r.classList.add("right-side");const l=document.createElement("span");l.classList.add("due-date"),l.classList.add("completed"),l.textContent=`${n}`;const m=document.createElement("img");m.classList.add("edit"),m.classList.add("completed-icon"),m.src="/src/icons/text-box-edit.svg",m.alt="edit";const u=document.createElement("img");u.classList.add("delete"),u.classList.add("completed-icon"),u.src="/src/icons/trash-can-outline.svg",u.alt="trash",u.setAttribute("data-task",s),r.appendChild(l),r.appendChild(m),r.appendChild(u),c.appendChild(i),c.appendChild(a),c.appendChild(o),c.appendChild(r),d.appendChild(c)}else if(!1===c){const c=document.querySelector(".reminder-container"),i=document.createElement("div");i.classList.add("reminder");const a=document.createElement("div");a.classList.add("circle"),a.classList.add(`${d}`),a.setAttribute("data-task",s);const o=document.createElement("span");o.classList.add("task"),o.textContent=`${e}`;const r=document.createElement("span");r.classList.add("description"),r.textContent=`${t}`;const l=document.createElement("div");l.classList.add("right-side");const m=document.createElement("span");m.classList.add("due-date"),m.textContent=`${n}`;const u=document.createElement("img");u.classList.add("edit-btn"),u.src="/src/icons/text-box-edit.svg",u.alt="edit";const p=document.createElement("img");p.classList.add("delete-btn"),p.src="/src/icons/trash-can-outline.svg",p.alt="trash",p.setAttribute("data-task",s),l.appendChild(m),l.appendChild(u),l.appendChild(p),i.appendChild(a),i.appendChild(o),i.appendChild(r),i.appendChild(l),c.appendChild(i)}}function t(e,t){const n=document.querySelector(".project-list-ul"),d=document.createElement("li");d.classList.add("nav-item"),d.classList.add("project"),d.setAttribute("data-project",t);const c=document.createElement("img");c.src="/src/icons/format-list-bulleted.svg";const s=document.createElement("span");s.textContent=`${e}`,d.appendChild(c),d.appendChild(s),n.appendChild(d)}function n(e=0){document.querySelector(".project-title-holder").textContent=`${r[e].projectName}`}function d(){document.querySelector(".project-list-ul").innerHTML=""}function c(){const e=document.querySelector(".reminder-container");document.querySelector(".reminder-container-completed").innerHTML="",e.innerHTML=""}function s(){for(let e=0;e<r.length;e++)t(r[e].projectName,r[e].projectId)}function i(t=0){for(let n=0;n<r[t].task.length;n++)e(r[t].task[n].reminderTitle,r[t].task[n].reminderDescription,r[t].task[n].reminderDueDate,r[t].task[n].reminderPriority,r[t].task[n].isComplete,r[t].task[n].reminderId)}window.displayProjectTitle=n;const a=(e=!1,t)=>{let n=document.getElementById("reminder-title").value,d=document.getElementById("reminder-description").value,c=document.getElementById("reminder-priority").value;return{reminderTitle:n,reminderDescription:d,reminderDueDate:document.getElementById("reminder-due-date").value,reminderPriority:c,isComplete:e,toggleCompleted:function(){this.isComplete=!this.isComplete,console.log("isComplete set to",this.isComplete)},reminderId:Date.now()}},o=e=>({addTask:function(){this.task.push(a())},projectName:e,task:[],projectId:Date.now()});let r=[];window.projectsContainer=r,r.push(o("inbox")),r[0].addTask(),r[0].task[0].isComplete,r[0].task[0].reminderDescription="test description",r[0].task[0].reminderTitle="Test Reminder",r[0].task[0].reminderDueDate="12-22-23",r[0].task[0].reminderPriority="high",i(),n(),s();const l=document.querySelector(".add-reminder"),m=document.querySelector(".modal"),u=document.querySelector(".modal-update"),p=document.querySelectorAll(".close-button"),h=document.querySelector("#create-reminder"),L=document.querySelector("#add-project");let E=0;function k(){const e=document.querySelectorAll(".delete-btn"),t=document.querySelectorAll(".edit-btn"),a=document.querySelectorAll(".circle"),o=document.querySelectorAll(".nav-item");e.forEach((function(e,t){e.setAttribute("data-task",t),e.addEventListener("click",(function(){var t;"delete-btn"==(t=e).classList?t.parentNode.parentNode.remove():"project"==t.parentNode.classList?t.parentNode.remove():console.log("error");let n=e.getAttribute("data-task");r[E].task.splice(n,1)}))})),t.forEach((function(e){e.addEventListener("click",(function(){u.classList.toggle("hidden")}))})),a.forEach((function(e,t){e.setAttribute("data-task",t),e.addEventListener("click",(function(){let t=e.getAttribute("data-task");console.log(E);let n=r[E].task[t];n.toggleCompleted.call(n),c(),i(E),k()}))})),o.forEach((function(e,t){e.setAttribute("data-project",t),e.addEventListener("click",(function(){let t=e.getAttribute("data-project");r[t].projectName,function(e,t){d(),s(),n(t)}(0,t),function(e){c(),i(e)}(t),E=t,k()}))}))}l.addEventListener("click",(function(e){m.classList.remove("hidden")})),p.forEach((function(e){e.addEventListener("click",(function(){!function(e){e.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("hidden")}(e)}))})),h.addEventListener("click",((e,t=r[E])=>{c(),t.addTask(),i(E),m.classList.add("hidden"),k()})),L.addEventListener("click",(e=>{r.push(o(document.querySelector("#project-name").value)),d(),console.log(E),s(),k(),console.log("button clicked")})),k()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUUMsSUFBSSxpQkFBZ0IsSUNqRzVCZSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL0pTL2Rpc3BsYXkuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL0pTL2NvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL0pTL2J1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb2plY3RzQ29udGFpbmVyIH0gZnJvbSBcIi4vY29udHJvbFwiO1xuXG4vLyBET00gRWxlbWVudCBDcmVhdGlvbnNcblxuZnVuY3Rpb24gZGlzcGxheVJlbWluZGVycyhyZW1pbmRlclRpdGxlLCByZW1pbmRlckRlc2NyaXB0aW9uLCByZW1pbmRlckR1ZURhdGUsIHJlbWluZGVyUHJpb3JpdHksIGlzQ29tcGxldGUsIHJlbWluZGVySWQpe1xuXG4gICAgaWYoaXNDb21wbGV0ZSA9PT0gdHJ1ZSl7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVtaW5kZXItY29udGFpbmVyLWNvbXBsZXRlZFwiKVxuICAgICAgICBjb25zdCByZW1pbmRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJlbWluZGVyRGl2LmNsYXNzTGlzdC5hZGQoXCJyZW1pbmRlclwiKTtcbiAgICAgICAgcmVtaW5kZXJEaXYuY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZFwiKTtcblxuICAgICAgICBjb25zdCBjaXJjbGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjaXJjbGVEaXYuY2xhc3NMaXN0LmFkZChcImNpcmNsZVwiKTtcbiAgICAgICAgY2lyY2xlRGl2LmNsYXNzTGlzdC5hZGQoXCJjb21wbGV0ZWRcIik7XG5cbiAgICAgICAgY29uc3QgdGFza1NwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGFza1NwYW4uY2xhc3NMaXN0LmFkZChcInRhc2tcIik7XG4gICAgICAgIHRhc2tTcGFuLmNsYXNzTGlzdC5hZGQoXCJjb21wbGV0ZWRcIik7XG4gICAgICAgIHRhc2tTcGFuLnRleHRDb250ZW50ID0gYCR7cmVtaW5kZXJUaXRsZX1gO1xuXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBkZXNjcmlwdGlvblNwYW4uY2xhc3NMaXN0LmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBkZXNjcmlwdGlvblNwYW4uY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgZGVzY3JpcHRpb25TcGFuLnRleHRDb250ZW50ID0gYCR7cmVtaW5kZXJEZXNjcmlwdGlvbn1gO1xuXG4gICAgICAgIGNvbnN0IHJpZ2h0U2lkZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJpZ2h0U2lkZURpdi5jbGFzc0xpc3QuYWRkKFwicmlnaHQtc2lkZVwiKTtcblxuICAgICAgICBjb25zdCBkdWVEYXRlU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBkdWVEYXRlU3Bhbi5jbGFzc0xpc3QuYWRkKFwiZHVlLWRhdGVcIik7XG4gICAgICAgIGR1ZURhdGVTcGFuLmNsYXNzTGlzdC5hZGQoXCJjb21wbGV0ZWRcIik7XG4gICAgICAgIGR1ZURhdGVTcGFuLnRleHRDb250ZW50ID0gYCR7cmVtaW5kZXJEdWVEYXRlfWA7XG5cbiAgICAgICAgY29uc3QgZWRpdEJ0bkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgIGVkaXRCdG5JbWcuY2xhc3NMaXN0LmFkZChcImVkaXRcIik7XG4gICAgICAgIGVkaXRCdG5JbWcuY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZC1pY29uXCIpO1xuICAgICAgICBlZGl0QnRuSW1nLnNyYyA9IFwiL3NyYy9pY29ucy90ZXh0LWJveC1lZGl0LnN2Z1wiO1xuICAgICAgICBlZGl0QnRuSW1nLmFsdCA9IFwiZWRpdFwiO1xuXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0bkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlXCIpO1xuICAgICAgICBkZWxldGVCdG5JbWcuY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZC1pY29uXCIpO1xuICAgICAgICBkZWxldGVCdG5JbWcuc3JjID0gXCIvc3JjL2ljb25zL3RyYXNoLWNhbi1vdXRsaW5lLnN2Z1wiO1xuICAgICAgICBkZWxldGVCdG5JbWcuYWx0ID0gXCJ0cmFzaFwiO1xuICAgICAgICBkZWxldGVCdG5JbWcuc2V0QXR0cmlidXRlKCdkYXRhLXRhc2snLCByZW1pbmRlcklkKTtcblxuICAgICAgICByaWdodFNpZGVEaXYuYXBwZW5kQ2hpbGQoZHVlRGF0ZVNwYW4pO1xuICAgICAgICByaWdodFNpZGVEaXYuYXBwZW5kQ2hpbGQoZWRpdEJ0bkltZyk7XG4gICAgICAgIHJpZ2h0U2lkZURpdi5hcHBlbmRDaGlsZChkZWxldGVCdG5JbWcpO1xuXG4gICAgICAgIHJlbWluZGVyRGl2LmFwcGVuZENoaWxkKGNpcmNsZURpdik7XG4gICAgICAgIHJlbWluZGVyRGl2LmFwcGVuZENoaWxkKHRhc2tTcGFuKTtcbiAgICAgICAgcmVtaW5kZXJEaXYuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25TcGFuKTtcbiAgICAgICAgcmVtaW5kZXJEaXYuYXBwZW5kQ2hpbGQocmlnaHRTaWRlRGl2KTtcbiAgICAgICAgY29tcGxldGVkQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlbWluZGVyRGl2KVxuXG4gICAgfWVsc2UgaWYgKGlzQ29tcGxldGUgPT09IGZhbHNlKXtcblxuICAgICAgICBjb25zdCByZW1pbmRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVtaW5kZXItY29udGFpbmVyXCIpXG5cbiAgICAgICAgY29uc3QgcmVtaW5kZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByZW1pbmRlckRpdi5jbGFzc0xpc3QuYWRkKFwicmVtaW5kZXJcIik7XG5cbiAgICAgICAgY29uc3QgY2lyY2xlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY2lyY2xlRGl2LmNsYXNzTGlzdC5hZGQoXCJjaXJjbGVcIik7XG4gICAgICAgIGNpcmNsZURpdi5jbGFzc0xpc3QuYWRkKGAke3JlbWluZGVyUHJpb3JpdHl9YCk7XG4gICAgICAgIGNpcmNsZURpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIHJlbWluZGVySWQpXG5cbiAgICAgICAgY29uc3QgdGFza1NwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGFza1NwYW4uY2xhc3NMaXN0LmFkZChcInRhc2tcIik7XG4gICAgICAgIHRhc2tTcGFuLnRleHRDb250ZW50ID0gYCR7cmVtaW5kZXJUaXRsZX1gO1xuXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBkZXNjcmlwdGlvblNwYW4uY2xhc3NMaXN0LmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBkZXNjcmlwdGlvblNwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlckRlc2NyaXB0aW9ufWA7XG5cbiAgICAgICAgY29uc3QgcmlnaHRTaWRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcmlnaHRTaWRlRGl2LmNsYXNzTGlzdC5hZGQoXCJyaWdodC1zaWRlXCIpO1xuXG4gICAgICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGR1ZURhdGVTcGFuLmNsYXNzTGlzdC5hZGQoXCJkdWUtZGF0ZVwiKTtcbiAgICAgICAgZHVlRGF0ZVNwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlckR1ZURhdGV9YDtcblxuICAgICAgICBjb25zdCBlZGl0QnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgZWRpdEJ0bkltZy5jbGFzc0xpc3QuYWRkKFwiZWRpdC1idG5cIik7XG4gICAgICAgIGVkaXRCdG5JbWcuc3JjID0gXCIvc3JjL2ljb25zL3RleHQtYm94LWVkaXQuc3ZnXCI7XG4gICAgICAgIGVkaXRCdG5JbWcuYWx0ID0gXCJlZGl0XCI7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgZGVsZXRlQnRuSW1nLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtYnRuXCIpO1xuICAgICAgICBkZWxldGVCdG5JbWcuc3JjID0gXCIvc3JjL2ljb25zL3RyYXNoLWNhbi1vdXRsaW5lLnN2Z1wiO1xuICAgICAgICBkZWxldGVCdG5JbWcuYWx0ID0gXCJ0cmFzaFwiO1xuICAgICAgICBkZWxldGVCdG5JbWcuc2V0QXR0cmlidXRlKCdkYXRhLXRhc2snLCByZW1pbmRlcklkKTtcblxuXG4gICAgXG4gICAgICAgIHJpZ2h0U2lkZURpdi5hcHBlbmRDaGlsZChkdWVEYXRlU3Bhbik7XG4gICAgICAgIHJpZ2h0U2lkZURpdi5hcHBlbmRDaGlsZChlZGl0QnRuSW1nKTtcbiAgICAgICAgcmlnaHRTaWRlRGl2LmFwcGVuZENoaWxkKGRlbGV0ZUJ0bkltZyk7XG5cbiAgICAgICAgcmVtaW5kZXJEaXYuYXBwZW5kQ2hpbGQoY2lyY2xlRGl2KTtcbiAgICAgICAgcmVtaW5kZXJEaXYuYXBwZW5kQ2hpbGQodGFza1NwYW4pO1xuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZChkZXNjcmlwdGlvblNwYW4pO1xuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZChyaWdodFNpZGVEaXYpO1xuICAgICAgICByZW1pbmRlckNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW1pbmRlckRpdilcbiAgICB9XG5cbn1cblxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0KHByb2plY3ROYW1lLCBwcm9qZWN0SWQpe1xuICAgIGNvbnN0IHByb2plY3RMaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWxpc3QtdWxcIilcblxuICAgIGNvbnN0IGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIGxpc3RJdGVtLmNsYXNzTGlzdC5hZGQoXCJuYXYtaXRlbVwiKVxuICAgIGxpc3RJdGVtLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpXG4gICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QnLCBwcm9qZWN0SWQpO1xuXG4gICAgY29uc3QgbGlzdEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIilcbiAgICBsaXN0SW1nLnNyYyA9IFwiL3NyYy9pY29ucy9mb3JtYXQtbGlzdC1idWxsZXRlZC5zdmdcIlxuXG4gICAgY29uc3QgcHJvamVjdFRpdGxlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICBwcm9qZWN0VGl0bGVIb2xkZXIudGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0TmFtZX1gXG5cbiAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChsaXN0SW1nKVxuICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZUhvbGRlcilcblxuICAgIHByb2plY3RMaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RJdGVtKVxufVxuXG5cblxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0VGl0bGUocHJvamVjdEluZGV4ID0gMCl7XG4gICAgY29uc3QgcHJvamVjdE5hbWVEaXNwbGF5ZXI9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10aXRsZS1ob2xkZXJcIilcbiAgICBwcm9qZWN0TmFtZURpc3BsYXllci50ZXh0Q29udGVudCA9IGAke3Byb2plY3RzQ29udGFpbmVyW3Byb2plY3RJbmRleF0ucHJvamVjdE5hbWV9YFxufVxuXG5cblxuLy8gY2xlYXIgRnVuY3Rpb25zXG5cbmZ1bmN0aW9uIGNsZWFyUHJvamVjdExpc3QoKXtcbiAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWxpc3QtdWxcIilcblxuICAgIHByb2plY3RDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxufVxuXG5cblxuZnVuY3Rpb24gY2xlYXJSZW1pbmRlckxpc3QoKXtcbiAgICBjb25zdCByZW1pbmRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVtaW5kZXItY29udGFpbmVyXCIpXG4gICAgY29uc3QgY29tcGxldGVkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZW1pbmRlci1jb250YWluZXItY29tcGxldGVkXCIpXG5cbiAgICBjb21wbGV0ZWRDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxuICAgIHJlbWluZGVyQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCJcbn1cblxuXG5cblxuLy8gUmVuZGVyIEZ1bmN0aW9uc1xuXG5mdW5jdGlvbiByZW5kZXJQcm9qZWN0TGlzdCgpe1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0c0NvbnRhaW5lci5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGRpc3BsYXlQcm9qZWN0KHByb2plY3RzQ29udGFpbmVyW2ldLnByb2plY3ROYW1lLCBwcm9qZWN0c0NvbnRhaW5lcltpXS5wcm9qZWN0SWQpXG4gICAgfSAgIFxufVxuXG5cbmZ1bmN0aW9uIHJlbmRlclJlbWluZGVyc0xpc3QocHJvamVjdCA9IDApe1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdHNDb250YWluZXJbcHJvamVjdF0udGFzay5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGRpc3BsYXlSZW1pbmRlcnMocHJvamVjdHNDb250YWluZXJbcHJvamVjdF0udGFza1tpXS5yZW1pbmRlclRpdGxlLCBwcm9qZWN0c0NvbnRhaW5lcltwcm9qZWN0XS50YXNrW2ldLnJlbWluZGVyRGVzY3JpcHRpb24sIHByb2plY3RzQ29udGFpbmVyW3Byb2plY3RdLnRhc2tbaV0ucmVtaW5kZXJEdWVEYXRlLCBwcm9qZWN0c0NvbnRhaW5lcltwcm9qZWN0XS50YXNrW2ldLnJlbWluZGVyUHJpb3JpdHksIHByb2plY3RzQ29udGFpbmVyW3Byb2plY3RdLnRhc2tbaV0uaXNDb21wbGV0ZSwgcHJvamVjdHNDb250YWluZXJbcHJvamVjdF0udGFza1tpXS5yZW1pbmRlcklkKVxuICAgIH1cbn1cblxuXG5mdW5jdGlvbiB1cGRhdGVEaXNwbGF5ZWRQcm9qZWN0KHByb2plY3ROYW1lLHByb2plY3RJbmRleCl7XG4gICAgY2xlYXJQcm9qZWN0TGlzdCgpXG4gICAgcmVuZGVyUHJvamVjdExpc3QocHJvamVjdEluZGV4ICwgcHJvamVjdEluZGV4KVxuICAgIGRpc3BsYXlQcm9qZWN0VGl0bGUocHJvamVjdEluZGV4KVxufVxuXG5mdW5jdGlvbiB1cGRhdGVEaXNwbGF5ZWRSZW1pbmRlcnMocHJvamVjdEluZGV4KXtcbiAgICBjbGVhclJlbWluZGVyTGlzdCgpXG4gICAgcmVuZGVyUmVtaW5kZXJzTGlzdChwcm9qZWN0SW5kZXgpXG59XG53aW5kb3cuZGlzcGxheVByb2plY3RUaXRsZSA9IGRpc3BsYXlQcm9qZWN0VGl0bGVcblxuZXhwb3J0e2Rpc3BsYXlSZW1pbmRlcnMsIGRpc3BsYXlQcm9qZWN0VGl0bGUsIGRpc3BsYXlQcm9qZWN0LCByZW5kZXJSZW1pbmRlcnNMaXN0LCBjbGVhclJlbWluZGVyTGlzdCwgY2xlYXJQcm9qZWN0TGlzdCwgcmVuZGVyUHJvamVjdExpc3QsIHVwZGF0ZURpc3BsYXllZFByb2plY3QsdXBkYXRlRGlzcGxheWVkUmVtaW5kZXJzfSIsImltcG9ydCB7IHJlbmRlclJlbWluZGVyc0xpc3QsIHJlbmRlclByb2plY3RMaXN0LCBkaXNwbGF5UHJvamVjdFRpdGxlIH0gZnJvbSBcIi4vZGlzcGxheVwiO1xuaW1wb3J0IHsgYWRkTGlzdGVuZXJzIH0gZnJvbSBcIi4vYnV0dG9uc1wiO1xuXG5cbmNvbnN0IGNyZWF0ZVJlbWluZGVyID0gKGlzQ29tcGxldGUgPSBmYWxzZSwgaWQpID0+IHtcbiAgICBsZXQgcmVtaW5kZXJUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtaW5kZXItdGl0bGVcIikudmFsdWVcbiAgICBsZXQgcmVtaW5kZXJEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtaW5kZXItZGVzY3JpcHRpb25cIikudmFsdWVcbiAgICBsZXQgcmVtaW5kZXJQcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtaW5kZXItcHJpb3JpdHlcIikudmFsdWVcbiAgICBsZXQgcmVtaW5kZXJEdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW1pbmRlci1kdWUtZGF0ZVwiKS52YWx1ZVxuICAgIGxldCByZW1pbmRlcklkID0gRGF0ZS5ub3coKVxuXG4gICAgZnVuY3Rpb24gdG9nZ2xlQ29tcGxldGVkKCkge1xuICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSAhdGhpcy5pc0NvbXBsZXRlO1xuICAgICAgICBjb25zb2xlLmxvZyhcImlzQ29tcGxldGUgc2V0IHRvXCIsIHRoaXMuaXNDb21wbGV0ZSk7XG4gICAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZW1pbmRlclRpdGxlLFxuICAgICAgICByZW1pbmRlckRlc2NyaXB0aW9uLFxuICAgICAgICByZW1pbmRlckR1ZURhdGUsXG4gICAgICAgIHJlbWluZGVyUHJpb3JpdHksXG4gICAgICAgIGlzQ29tcGxldGUsXG4gICAgICAgIHRvZ2dsZUNvbXBsZXRlZCxcbiAgICAgICAgcmVtaW5kZXJJZFxuICAgIH07XG59O1xuXG5cblxuY29uc3QgY3JlYXRlUHJvamVjdCA9IChuYW1lKSA9PiB7XG4gICAgbGV0IHByb2plY3ROYW1lID0gbmFtZVxuICAgIGxldCB0YXNrID0gW11cbiAgICBjb25zdCBwcm9qZWN0SWQgPSBEYXRlLm5vdygpXG5cbiAgICBmdW5jdGlvbiBhZGRUYXNrKCl7XG4gICAgICAgIHRoaXMudGFzay5wdXNoKGNyZWF0ZVJlbWluZGVyKCkpXG4gICAgfVxuXG4gXG5cbiAgICByZXR1cm4geyBcbiAgICAgICAgYWRkVGFzayxcbiAgICAgICAgcHJvamVjdE5hbWUsXG4gICAgICAgIHRhc2ssXG4gICAgICAgIHByb2plY3RJZFxuICAgIH07XG5cbiAgfTtcblxuXG5sZXQgcHJvamVjdHNDb250YWluZXIgPSBbXVxuXG53aW5kb3cucHJvamVjdHNDb250YWluZXIgPSBwcm9qZWN0c0NvbnRhaW5lclxuXG5wcm9qZWN0c0NvbnRhaW5lci5wdXNoKGNyZWF0ZVByb2plY3QoXCJpbmJveFwiKSlcblxucHJvamVjdHNDb250YWluZXJbMF0uYWRkVGFzaygpXG5cbnByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbMF0uaXNDb21wbGV0ZVxucHJvamVjdHNDb250YWluZXJbMF0udGFza1swXS5yZW1pbmRlckRlc2NyaXB0aW9uID0gXCJ0ZXN0IGRlc2NyaXB0aW9uXCJcbnByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbMF0ucmVtaW5kZXJUaXRsZSA9IFwiVGVzdCBSZW1pbmRlclwiXG5wcm9qZWN0c0NvbnRhaW5lclswXS50YXNrWzBdLnJlbWluZGVyRHVlRGF0ZSA9IFwiMTItMjItMjNcIlxucHJvamVjdHNDb250YWluZXJbMF0udGFza1swXS5yZW1pbmRlclByaW9yaXR5ID0gXCJoaWdoXCJcblxuXG5yZW5kZXJSZW1pbmRlcnNMaXN0KClcbmRpc3BsYXlQcm9qZWN0VGl0bGUoKVxucmVuZGVyUHJvamVjdExpc3QoKVxuXG5cbmV4cG9ydHtjcmVhdGVSZW1pbmRlcixjcmVhdGVQcm9qZWN0LHByb2plY3RzQ29udGFpbmVyfVxuICBcblxuXG4iLCJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0LCBwcm9qZWN0c0NvbnRhaW5lciwgdG9nZ2xlQ29tcGxldGVkLCBjcmVhdGVSZW1pbmRlcn0gZnJvbSBcIi4vY29udHJvbFwiXG5pbXBvcnQgeyBjbGVhclJlbWluZGVyTGlzdCwgcmVuZGVyUmVtaW5kZXJzTGlzdCwgZGlzcGxheVByb2plY3QsIHJlbmRlclByb2plY3RMaXN0LCBjbGVhclByb2plY3RMaXN0LCB1cGRhdGVEaXNwbGF5ZWRQcm9qZWN0LCB1cGRhdGVEaXNwbGF5ZWRSZW1pbmRlcnMgfSBmcm9tIFwiLi9kaXNwbGF5XCJcblxuXG4vLyBjb25zdCBjcmVhdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIlwiKVxuXG5jb25zdCBhZGRSZW1pbmRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXJlbWluZGVyXCIpXG5jb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpXG5jb25zdCB1cGRhdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC11cGRhdGVcIilcbmNvbnN0IGNsb3NlUmVtaW5kZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNsb3NlLWJ1dHRvblwiKVxuY29uc3QgY3JlYXRlUmVtaW5kZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NyZWF0ZS1yZW1pbmRlclwiKVxuY29uc3QgY3JlYXRlUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLXByb2plY3RcIilcblxubGV0IGN1cnJlbnRQcm9qZWN0SW5kZXggPSAwXG5cbmZ1bmN0aW9uIGFkZExpc3RlbmVycygpe1xuXG4gICAgY29uc3QgZGVsZXRlUmVtaW5kZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGV0ZS1idG5cIilcbiAgICBjb25zdCBlZGl0UmVtaW5kZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtYnRuXCIpXG4gICAgY29uc3QgdG9nZ2xlQ29tcGxldGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jaXJjbGVcIilcbiAgICBjb25zdCBwcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtaXRlbVwiKVxuICAgICAgXG4gICAgICAgZGVsZXRlUmVtaW5kZXJCdG4uZm9yRWFjaCggZnVuY3Rpb24gKGksIGluZGV4LCApIHtcbiAgICAgICAgaS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhc2tcIiwgaW5kZXgpO1xuICAgICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZW1vdmVEaXNwbGF5KGkpXG4gICAgICAgICAgbGV0IHRhc2tJbmRleCA9IGkuZ2V0QXR0cmlidXRlKFwiZGF0YS10YXNrXCIpO1xuICAgICAgICAgIHByb2plY3RzQ29udGFpbmVyW2N1cnJlbnRQcm9qZWN0SW5kZXhdLnRhc2suc3BsaWNlKHRhc2tJbmRleCwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgICAgZWRpdFJlbWluZGVyQnRuLmZvckVhY2goIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1cGRhdGVGb3JtLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgdG9nZ2xlQ29tcGxldGVkLmZvckVhY2goZnVuY3Rpb24gKGksIGluZGV4KSB7XG4gICAgICAgICAgICBpLnNldEF0dHJpYnV0ZShcImRhdGEtdGFza1wiLCBpbmRleCk7XG4gICAgICAgICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGxldCB0YXNrSW5kZXggPSBpLmdldEF0dHJpYnV0ZShcImRhdGEtdGFza1wiKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coY3VycmVudFByb2plY3RJbmRleClcbiAgICAgICAgICAgICAgbGV0IHJlbWluZGVyID0gcHJvamVjdHNDb250YWluZXJbY3VycmVudFByb2plY3RJbmRleF0udGFza1t0YXNrSW5kZXhdO1xuICAgICAgICAgICAgICByZW1pbmRlci50b2dnbGVDb21wbGV0ZWQuY2FsbChyZW1pbmRlcik7XG4gICAgICAgICAgICAgIGNsZWFyUmVtaW5kZXJMaXN0KClcbiAgICAgICAgICAgICAgcmVuZGVyUmVtaW5kZXJzTGlzdChjdXJyZW50UHJvamVjdEluZGV4KVxuICAgICAgICAgICAgICBhZGRMaXN0ZW5lcnMoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cblxuICAgICAgICBwcm9qZWN0QnRuLmZvckVhY2goZnVuY3Rpb24gKGksIGluZGV4KSB7XG4gICAgICAgICAgICBpLnNldEF0dHJpYnV0ZShcImRhdGEtcHJvamVjdFwiLCBpbmRleCk7XG4gICAgICAgICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGxldCBwcm9qZWN0SW5kZXggPSBpLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvamVjdFwiKTtcbiAgICAgICAgICAgICAgbGV0IHByb2plY3QgPSBwcm9qZWN0c0NvbnRhaW5lcltwcm9qZWN0SW5kZXhdLnByb2plY3ROYW1lO1xuICAgICAgICAgICAgICB1cGRhdGVEaXNwbGF5ZWRQcm9qZWN0KHByb2plY3QgLCBwcm9qZWN0SW5kZXgpXG4gICAgICAgICAgICAgIHVwZGF0ZURpc3BsYXllZFJlbWluZGVycyhwcm9qZWN0SW5kZXgpXG4gICAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0SW5kZXggPSBwcm9qZWN0SW5kZXhcbiAgICAgICAgICAgICAgYWRkTGlzdGVuZXJzKClcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgXG59XG5cblxuXG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwoZWxlbWVudCl7XG4gICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG4gICAgfVxuICBcbmZ1bmN0aW9uIHJlbW92ZURpc3BsYXkoZWxlbWVudCl7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QgPT0gXCJkZWxldGUtYnRuXCIpe1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKVxuICAgICAgfWVsc2UgaWYgKGVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QgPT0gXCJwcm9qZWN0XCIpe1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlKClcbiAgICAgIH1lbHNlIGNvbnNvbGUubG9nKFwiZXJyb3JcIilcblxufVxuXG5cblxuXG5hZGRSZW1pbmRlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gdG9nZ2xlTW9kYWwoZSl7XG4gICAgaW5wdXRGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcbn0pO1xuXG5cblxuY2xvc2VSZW1pbmRlckJ0bi5mb3JFYWNoKCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICBjbG9zZU1vZGFsKGVsZW1lbnQpXG4gIH0pXG59KTtcblxuXG5cbmNyZWF0ZVJlbWluZGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChlLCBwcm9qZWN0ID0gcHJvamVjdHNDb250YWluZXJbY3VycmVudFByb2plY3RJbmRleF0pID0+IHsgICAgXG4gICAgY2xlYXJSZW1pbmRlckxpc3QoKVxuICAgIHByb2plY3QuYWRkVGFzaygpXG4gICAgcmVuZGVyUmVtaW5kZXJzTGlzdChjdXJyZW50UHJvamVjdEluZGV4KVxuICAgIGlucHV0Rm9ybS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG4gICAgYWRkTGlzdGVuZXJzKClcbn0pO1xuXG5cblxuY3JlYXRlUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZSkgPT4geyAgICBcbiAgICBwcm9qZWN0c0NvbnRhaW5lci5wdXNoKGNyZWF0ZVByb2plY3QoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LW5hbWVcIikudmFsdWUpKVxuICAgIGNsZWFyUHJvamVjdExpc3QoKVxuICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQcm9qZWN0SW5kZXgpXG4gICAgcmVuZGVyUHJvamVjdExpc3QoY3VycmVudFByb2plY3RJbmRleClcbiAgICBhZGRMaXN0ZW5lcnMoKVxuXG5jb25zb2xlLmxvZyhcImJ1dHRvbiBjbGlja2VkXCIpXG59KTtcblxuXG5cblxuXG4gIGV4cG9ydCB7YWRkTGlzdGVuZXJzfSIsImltcG9ydCB7YWRkTGlzdGVuZXJzfSBmcm9tICcuL0pTL2J1dHRvbnMuanMnXG5pbXBvcnQgeyBjcmVhdGVSZW1pbmRlciwgUHJvamVjdCwgcHJvamVjdHNDb250YWluZXIgfSBmcm9tICcuL0pTL2NvbnRyb2wnXG5pbXBvcnQgeyBkaXNwbGF5UHJvamVjdExpc3QsIGRpc3BsYXlQcm9qZWN0VGl0bGUsIGRpc3BsYXlSZW1pbmRlcnMsIHJlbmRlclJlbWluZGVyc0xpc3QgfSBmcm9tICcuL0pTL2Rpc3BsYXknXG5cbi8vIHdpbmRvdy5kaXNwbGF5UmVtaW5kZXJzID0gZGlzcGxheVJlbWluZGVyc1xuXG5cblxuLy8gd2luZG93LmluYm94ID0gaW5ib3hcblxuLy8gd2luZG93LmRpc3BsYXlQcm9qZWN0VGl0bGUgPSBkaXNwbGF5UHJvamVjdFRpdGxlXG5cbi8vIHdpbmRvdy5kaXNwbGF5UHJvamVjdExpc3QgPSBkaXNwbGF5UHJvamVjdExpc3RcblxuXG5cblxuXG5cbmFkZExpc3RlbmVycygpIl0sIm5hbWVzIjpbImRpc3BsYXlSZW1pbmRlcnMiLCJyZW1pbmRlclRpdGxlIiwicmVtaW5kZXJEZXNjcmlwdGlvbiIsInJlbWluZGVyRHVlRGF0ZSIsInJlbWluZGVyUHJpb3JpdHkiLCJpc0NvbXBsZXRlIiwicmVtaW5kZXJJZCIsImNvbXBsZXRlZENvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlbWluZGVyRGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImNpcmNsZURpdiIsInRhc2tTcGFuIiwidGV4dENvbnRlbnQiLCJkZXNjcmlwdGlvblNwYW4iLCJyaWdodFNpZGVEaXYiLCJkdWVEYXRlU3BhbiIsImVkaXRCdG5JbWciLCJzcmMiLCJhbHQiLCJkZWxldGVCdG5JbWciLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsInJlbWluZGVyQ29udGFpbmVyIiwiZGlzcGxheVByb2plY3QiLCJwcm9qZWN0TmFtZSIsInByb2plY3RJZCIsInByb2plY3RMaXN0Q29udGFpbmVyIiwibGlzdEl0ZW0iLCJsaXN0SW1nIiwicHJvamVjdFRpdGxlSG9sZGVyIiwiZGlzcGxheVByb2plY3RUaXRsZSIsInByb2plY3RJbmRleCIsInByb2plY3RzQ29udGFpbmVyIiwiY2xlYXJQcm9qZWN0TGlzdCIsImlubmVySFRNTCIsImNsZWFyUmVtaW5kZXJMaXN0IiwicmVuZGVyUHJvamVjdExpc3QiLCJpIiwibGVuZ3RoIiwicmVuZGVyUmVtaW5kZXJzTGlzdCIsInByb2plY3QiLCJ0YXNrIiwid2luZG93IiwiY3JlYXRlUmVtaW5kZXIiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJ0b2dnbGVDb21wbGV0ZWQiLCJ0aGlzIiwiY29uc29sZSIsImxvZyIsIkRhdGUiLCJub3ciLCJjcmVhdGVQcm9qZWN0IiwibmFtZSIsImFkZFRhc2siLCJwdXNoIiwiYWRkUmVtaW5kZXJCdG4iLCJpbnB1dEZvcm0iLCJ1cGRhdGVGb3JtIiwiY2xvc2VSZW1pbmRlckJ0biIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjcmVhdGVSZW1pbmRlckJ0biIsImNyZWF0ZVByb2plY3RCdG4iLCJjdXJyZW50UHJvamVjdEluZGV4IiwiYWRkTGlzdGVuZXJzIiwiZGVsZXRlUmVtaW5kZXJCdG4iLCJlZGl0UmVtaW5kZXJCdG4iLCJwcm9qZWN0QnRuIiwiZm9yRWFjaCIsImluZGV4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwidGFza0luZGV4IiwiZ2V0QXR0cmlidXRlIiwic3BsaWNlIiwidG9nZ2xlIiwicmVtaW5kZXIiLCJjYWxsIiwidXBkYXRlRGlzcGxheWVkUHJvamVjdCIsInVwZGF0ZURpc3BsYXllZFJlbWluZGVycyIsImUiLCJwYXJlbnRFbGVtZW50IiwiY2xvc2VNb2RhbCJdLCJzb3VyY2VSb290IjoiIn0=