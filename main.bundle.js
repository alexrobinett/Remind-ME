(()=>{"use strict";function e(e,t,n,d,s,c){if(!0===s){const d=document.querySelector(".reminder-container-completed"),s=document.createElement("div");s.classList.add("reminder"),s.classList.add("completed");const i=document.createElement("div");i.classList.add("circle"),i.classList.add("completed");const a=document.createElement("span");a.classList.add("task"),a.classList.add("completed"),a.textContent=`${e}`;const o=document.createElement("span");o.classList.add("description"),o.classList.add("completed"),o.textContent=`${t}`;const r=document.createElement("div");r.classList.add("right-side");const l=document.createElement("span");l.classList.add("due-date"),l.classList.add("completed"),l.textContent=`${n}`;const m=document.createElement("img");m.classList.add("edit"),m.classList.add("completed-icon"),m.src="/src/icons/text-box-edit.svg",m.alt="edit";const u=document.createElement("img");u.classList.add("delete"),u.classList.add("completed-icon"),u.src="/src/icons/trash-can-outline.svg",u.alt="trash",u.setAttribute("data-task",c),r.appendChild(l),r.appendChild(m),r.appendChild(u),s.appendChild(i),s.appendChild(a),s.appendChild(o),s.appendChild(r),d.appendChild(s)}else if(!1===s){const s=document.querySelector(".reminder-container"),i=document.createElement("div");i.classList.add("reminder");const a=document.createElement("div");a.classList.add("circle"),a.classList.add(`${d}`),a.setAttribute("data-task",c);const o=document.createElement("span");o.classList.add("task"),o.textContent=`${e}`;const r=document.createElement("span");r.classList.add("description"),r.textContent=`${t}`;const l=document.createElement("div");l.classList.add("right-side");const m=document.createElement("span");m.classList.add("due-date"),m.textContent=`${n}`;const u=document.createElement("img");u.classList.add("edit-btn"),u.src="/src/icons/text-box-edit.svg",u.alt="edit";const p=document.createElement("img");p.classList.add("delete-btn"),p.src="/src/icons/trash-can-outline.svg",p.alt="trash",p.setAttribute("data-task",c),l.appendChild(m),l.appendChild(u),l.appendChild(p),i.appendChild(a),i.appendChild(o),i.appendChild(r),i.appendChild(l),s.appendChild(i)}}function t(){for(let t=0;t<s[0].task.length;t++)e(s[0].task[t].reminderTitle,s[0].task[t].reminderDescription,s[0].task[t].reminderDueDate,s[0].task[t].reminderPriority,s[0].task[t].isComplete)}const n=(e=!1,t)=>{let d=document.getElementById("reminder-title").value,s=document.getElementById("reminder-description").value,c=document.getElementById("reminder-priority").value,i=document.getElementById("reminder-due-date").value;return Date.now(),{reminderTitle:d,reminderDescription:s,reminderDueDate:i,reminderPriority:c,isComplete:e,createReminder:n,toggleCompleted:function(){1==this.isComplete?(this.isComplete=!1,console.log("toggled false")):0==this.isComplete?(this.isComplete=!0,console.log("toggled true")):console.log("error something went wrong")}}},d=e=>({addTask:function(){this.task.push(n())},createProject:d,projectName:e,task:[]});let s=[];window.projectsContainer=s,s.push(d("inbox")),s[0].addTask(),s[0].task[0].isComplete,s[0].task[0].reminderDescription="test description",s[0].task[0].reminderTitle="Test Reminder",s[0].task[0].reminderDueDate="12-22-23",s[0].task[0].reminderPriority="high",t(),t(),function e(){const n=document.querySelector(".add-reminder"),c=document.querySelector(".modal"),i=document.querySelector(".modal-update"),a=document.querySelectorAll(".close-button"),o=document.querySelectorAll(".edit-btn"),r=document.querySelector("#create-reminder"),l=document.querySelector("#add-project"),m=(document.querySelectorAll(".circle"),document.querySelectorAll(".delete-btn"));n.addEventListener("click",(function(e){c.classList.remove("hidden")})),a.forEach((function(e){e.addEventListener("click",(function(){!function(e){e.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("hidden")}(e)}))})),r.addEventListener("click",((n,d=s[0])=>{d.addTask(),function(){const e=document.querySelector(".reminder-container");document.querySelector(".reminder-container-completed").innerHTML="",e.innerHTML=""}(),t(),c.classList.add("hidden"),e(),console.log("button clicked")})),l.addEventListener("click",(e=>{window.projectsContainer=d(document.querySelector("#project-name").value),console.log("button clicked")})),m.forEach((function(e,t){e.setAttribute("data-task",t),e.addEventListener("click",(function(){var t;"delete-btn"==(t=e).classList?t.parentNode.parentNode.remove():"project"==t.parentNode.classList?t.parentNode.remove():console.log("error");let n=e.getAttribute("data-task");s[0].task.splice(n,1)}))})),o.forEach((function(e){e.addEventListener("click",(function(){i.classList.toggle("hidden")}))}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVksR0FDL0J4QyxFQUFrQndDLFVBQVksRUFDbEMsQ0dyR1FDLEdBQ0F4QyxJQUNBdUIsRUFBVXRDLFVBQVVDLElBQUksVUFDeEJtQyxJQUNBUixRQUFRQyxJQUFJLGlCQUFnQixJQUdqQ2UsRUFBaUJFLGlCQUFpQixTQUFTQyxJQUMxQ1osT0FBT2xCLGtCQUFvQmEsRUFBY2xDLFNBQVNDLGNBQWMsaUJBQWlCMEIsT0FDakZLLFFBQVFDLElBQUksaUJBQWdCLElBSTdCZ0IsRUFBa0JJLFNBQVMsU0FBVWpDLEVBQUd3QyxHQUN2Q3hDLEVBQUVKLGFBQWEsWUFBYTRDLEdBQzVCeEMsRUFBRThCLGlCQUFpQixTQUFTLFdBaERoQyxJQUF1QkksRUFDUSxlQURSQSxFQWlESGxDLEdBaERGaEIsVUFDVmtELEVBQVFPLFdBQVdBLFdBQVdULFNBQ1UsV0FBaENFLEVBQVFPLFdBQVd6RCxVQUMzQmtELEVBQVFPLFdBQVdULFNBQ2ZwQixRQUFRQyxJQUFJLFNBNkNsQixJQUFJNkIsRUFBWTFDLEVBQUUyQyxhQUFhLGFBQy9CMUMsRUFBa0IsR0FBR0MsS0FBSzBDLE9BQU9GLEVBQVcsRUFDOUMsR0FDRixJQUVFaEIsRUFBZ0JPLFNBQVMsU0FBVWpDLEdBQ2pDQSxFQUFFOEIsaUJBQWlCLFNBQVMsV0FDMUJQLEVBQVd2QyxVQUFVNkQsT0FBTyxTQUM5QixHQUNGLEdBVUosQ0RwREF6QixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL0pTL2Rpc3BsYXkuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL0pTL2NvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLW1lLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3JlbWluZC1tZS8uL3NyYy9KUy9idXR0b25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb2plY3RzQ29udGFpbmVyIH0gZnJvbSBcIi4vY29udHJvbFwiO1xuXG5mdW5jdGlvbiBkaXNwbGF5UmVtaW5kZXJzKHJlbWluZGVyVGl0bGUsIHJlbWluZGVyRGVzY3JpcHRpb24sIHJlbWluZGVyRHVlRGF0ZSwgcmVtaW5kZXJQcmlvcml0eSwgaXNDb21wbGV0ZSwgcmVtaW5kZXJJZCl7XG5cbiAgICBpZihpc0NvbXBsZXRlID09PSB0cnVlKXtcbiAgICAgICAgY29uc3QgY29tcGxldGVkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZW1pbmRlci1jb250YWluZXItY29tcGxldGVkXCIpXG4gICAgICAgIGNvbnN0IHJlbWluZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcmVtaW5kZXJEaXYuY2xhc3NMaXN0LmFkZChcInJlbWluZGVyXCIpO1xuICAgICAgICByZW1pbmRlckRpdi5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkXCIpO1xuXG4gICAgICAgIGNvbnN0IGNpcmNsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNpcmNsZURpdi5jbGFzc0xpc3QuYWRkKFwiY2lyY2xlXCIpO1xuICAgICAgICBjaXJjbGVEaXYuY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZFwiKTtcblxuICAgICAgICBjb25zdCB0YXNrU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB0YXNrU3Bhbi5jbGFzc0xpc3QuYWRkKFwidGFza1wiKTtcbiAgICAgICAgdGFza1NwYW4uY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgdGFza1NwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlclRpdGxlfWA7XG5cbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uU3Bhbi5jbGFzc0xpc3QuYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uU3Bhbi5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkXCIpO1xuICAgICAgICBkZXNjcmlwdGlvblNwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlckRlc2NyaXB0aW9ufWA7XG5cbiAgICAgICAgY29uc3QgcmlnaHRTaWRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcmlnaHRTaWRlRGl2LmNsYXNzTGlzdC5hZGQoXCJyaWdodC1zaWRlXCIpO1xuXG4gICAgICAgIGNvbnN0IGR1ZURhdGVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGR1ZURhdGVTcGFuLmNsYXNzTGlzdC5hZGQoXCJkdWUtZGF0ZVwiKTtcbiAgICAgICAgZHVlRGF0ZVNwYW4uY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlZFwiKTtcbiAgICAgICAgZHVlRGF0ZVNwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlckR1ZURhdGV9YDtcblxuICAgICAgICBjb25zdCBlZGl0QnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgZWRpdEJ0bkltZy5jbGFzc0xpc3QuYWRkKFwiZWRpdFwiKTtcbiAgICAgICAgZWRpdEJ0bkltZy5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkLWljb25cIik7XG4gICAgICAgIGVkaXRCdG5JbWcuc3JjID0gXCIvc3JjL2ljb25zL3RleHQtYm94LWVkaXQuc3ZnXCI7XG4gICAgICAgIGVkaXRCdG5JbWcuYWx0ID0gXCJlZGl0XCI7XG5cbiAgICAgICAgY29uc3QgZGVsZXRlQnRuSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgZGVsZXRlQnRuSW1nLmNsYXNzTGlzdC5hZGQoXCJkZWxldGVcIik7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVkLWljb25cIik7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5zcmMgPSBcIi9zcmMvaWNvbnMvdHJhc2gtY2FuLW91dGxpbmUuc3ZnXCI7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5hbHQgPSBcInRyYXNoXCI7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIHJlbWluZGVySWQpO1xuXG4gICAgICAgIHJpZ2h0U2lkZURpdi5hcHBlbmRDaGlsZChkdWVEYXRlU3Bhbik7XG4gICAgICAgIHJpZ2h0U2lkZURpdi5hcHBlbmRDaGlsZChlZGl0QnRuSW1nKTtcbiAgICAgICAgcmlnaHRTaWRlRGl2LmFwcGVuZENoaWxkKGRlbGV0ZUJ0bkltZyk7XG5cbiAgICAgICAgcmVtaW5kZXJEaXYuYXBwZW5kQ2hpbGQoY2lyY2xlRGl2KTtcbiAgICAgICAgcmVtaW5kZXJEaXYuYXBwZW5kQ2hpbGQodGFza1NwYW4pO1xuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZChkZXNjcmlwdGlvblNwYW4pO1xuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZChyaWdodFNpZGVEaXYpO1xuICAgICAgICBjb21wbGV0ZWRDb250YWluZXIuYXBwZW5kQ2hpbGQocmVtaW5kZXJEaXYpXG5cbiAgICB9ZWxzZSBpZiAoaXNDb21wbGV0ZSA9PT0gZmFsc2Upe1xuXG4gICAgICAgIGNvbnN0IHJlbWluZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZW1pbmRlci1jb250YWluZXJcIilcblxuICAgICAgICBjb25zdCByZW1pbmRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJlbWluZGVyRGl2LmNsYXNzTGlzdC5hZGQoXCJyZW1pbmRlclwiKTtcblxuICAgICAgICBjb25zdCBjaXJjbGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjaXJjbGVEaXYuY2xhc3NMaXN0LmFkZChcImNpcmNsZVwiKTtcbiAgICAgICAgY2lyY2xlRGl2LmNsYXNzTGlzdC5hZGQoYCR7cmVtaW5kZXJQcmlvcml0eX1gKTtcbiAgICAgICAgY2lyY2xlRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS10YXNrJywgcmVtaW5kZXJJZClcblxuICAgICAgICBjb25zdCB0YXNrU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB0YXNrU3Bhbi5jbGFzc0xpc3QuYWRkKFwidGFza1wiKTtcbiAgICAgICAgdGFza1NwYW4udGV4dENvbnRlbnQgPSBgJHtyZW1pbmRlclRpdGxlfWA7XG5cbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uU3Bhbi5jbGFzc0xpc3QuYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uU3Bhbi50ZXh0Q29udGVudCA9IGAke3JlbWluZGVyRGVzY3JpcHRpb259YDtcblxuICAgICAgICBjb25zdCByaWdodFNpZGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByaWdodFNpZGVEaXYuY2xhc3NMaXN0LmFkZChcInJpZ2h0LXNpZGVcIik7XG5cbiAgICAgICAgY29uc3QgZHVlRGF0ZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgZHVlRGF0ZVNwYW4uY2xhc3NMaXN0LmFkZChcImR1ZS1kYXRlXCIpO1xuICAgICAgICBkdWVEYXRlU3Bhbi50ZXh0Q29udGVudCA9IGAke3JlbWluZGVyRHVlRGF0ZX1gO1xuXG4gICAgICAgIGNvbnN0IGVkaXRCdG5JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBlZGl0QnRuSW1nLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiKTtcbiAgICAgICAgZWRpdEJ0bkltZy5zcmMgPSBcIi9zcmMvaWNvbnMvdGV4dC1ib3gtZWRpdC5zdmdcIjtcbiAgICAgICAgZWRpdEJ0bkltZy5hbHQgPSBcImVkaXRcIjtcblxuICAgICAgICBjb25zdCBkZWxldGVCdG5JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBkZWxldGVCdG5JbWcuY2xhc3NMaXN0LmFkZChcImRlbGV0ZS1idG5cIik7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5zcmMgPSBcIi9zcmMvaWNvbnMvdHJhc2gtY2FuLW91dGxpbmUuc3ZnXCI7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5hbHQgPSBcInRyYXNoXCI7XG4gICAgICAgIGRlbGV0ZUJ0bkltZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFzaycsIHJlbWluZGVySWQpO1xuXG5cbiAgICBcbiAgICAgICAgcmlnaHRTaWRlRGl2LmFwcGVuZENoaWxkKGR1ZURhdGVTcGFuKTtcbiAgICAgICAgcmlnaHRTaWRlRGl2LmFwcGVuZENoaWxkKGVkaXRCdG5JbWcpO1xuICAgICAgICByaWdodFNpZGVEaXYuYXBwZW5kQ2hpbGQoZGVsZXRlQnRuSW1nKTtcblxuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZChjaXJjbGVEaXYpO1xuICAgICAgICByZW1pbmRlckRpdi5hcHBlbmRDaGlsZCh0YXNrU3Bhbik7XG4gICAgICAgIHJlbWluZGVyRGl2LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uU3Bhbik7XG4gICAgICAgIHJlbWluZGVyRGl2LmFwcGVuZENoaWxkKHJpZ2h0U2lkZURpdik7XG4gICAgICAgIHJlbWluZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlbWluZGVyRGl2KVxuICAgIH1cblxufVxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0VGl0bGUocHJvamVjdCl7XG4gICAgY29uc3QgcHJvamVjdE5hbWVEaXNwbGF5ZXI9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC10aXRsZS1ob2xkZXJcIilcbiAgICBwcm9qZWN0TmFtZURpc3BsYXllci50ZXh0Q29udGVudCA9IGAke3Byb2plY3R9YFxufVxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0TGlzdChwcm9qZWN0KXtcbiAgICBjb25zdCBwcm9qZWN0TGlzdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1saXN0LXVsXCIpXG5cbiAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwibmF2LWl0ZW1cIilcbiAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKVxuXG4gICAgY29uc3QgbGlzdEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIilcbiAgICBsaXN0SW1nLnNyYyA9IFwiL3NyYy9pY29ucy9mb3JtYXQtbGlzdC1idWxsZXRlZC5zdmdcIlxuXG4gICAgY29uc3QgcHJvamVjdFRpdGxlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICBwcm9qZWN0VGl0bGVIb2xkZXIudGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0fWBcblxuICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKGxpc3RJbWcpXG4gICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQocHJvamVjdFRpdGxlSG9sZGVyKVxuXG4gICAgcHJvamVjdExpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pXG59XG5cblxuXG5cbmZ1bmN0aW9uIGNsZWFyUmVtaW5kZXJMaXN0KCl7XG4gICAgY29uc3QgcmVtaW5kZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlbWluZGVyLWNvbnRhaW5lclwiKVxuICAgIGNvbnN0IGNvbXBsZXRlZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVtaW5kZXItY29udGFpbmVyLWNvbXBsZXRlZFwiKVxuXG4gICAgY29tcGxldGVkQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCJcbiAgICByZW1pbmRlckNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXG59XG5cblxuXG5cblxuZnVuY3Rpb24gcmVuZGVyUmVtaW5kZXJzTGlzdCgpe1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdHNDb250YWluZXJbMF0udGFzay5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGRpc3BsYXlSZW1pbmRlcnMocHJvamVjdHNDb250YWluZXJbMF0udGFza1tpXS5yZW1pbmRlclRpdGxlLCBwcm9qZWN0c0NvbnRhaW5lclswXS50YXNrW2ldLnJlbWluZGVyRGVzY3JpcHRpb24sIHByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbaV0ucmVtaW5kZXJEdWVEYXRlLCBwcm9qZWN0c0NvbnRhaW5lclswXS50YXNrW2ldLnJlbWluZGVyUHJpb3JpdHksIHByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbaV0uaXNDb21wbGV0ZSlcbiAgICB9XG59XG5cblxuZXhwb3J0e2Rpc3BsYXlSZW1pbmRlcnMsZGlzcGxheVByb2plY3RUaXRsZSxkaXNwbGF5UHJvamVjdExpc3QscmVuZGVyUmVtaW5kZXJzTGlzdCxjbGVhclJlbWluZGVyTGlzdH0iLCJpbXBvcnQgeyByZW5kZXJSZW1pbmRlcnNMaXN0IH0gZnJvbSBcIi4vZGlzcGxheVwiO1xuXG5cbmNvbnN0IGNyZWF0ZVJlbWluZGVyID0gKGlzQ29tcGxldGUgPSBmYWxzZSwgaWQpID0+IHtcbiAgICBcbiAgICBsZXQgcmVtaW5kZXJUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtaW5kZXItdGl0bGVcIikudmFsdWVcbiAgICBsZXQgcmVtaW5kZXJEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtaW5kZXItZGVzY3JpcHRpb25cIikudmFsdWVcbiAgICBsZXQgcmVtaW5kZXJQcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtaW5kZXItcHJpb3JpdHlcIikudmFsdWVcbiAgICBsZXQgcmVtaW5kZXJEdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW1pbmRlci1kdWUtZGF0ZVwiKS52YWx1ZVxuICAgIGxldCByZW1pbmRlcklkID0gRGF0ZS5ub3coKVxuXG4gICAgLy8gdGVzdCBUZXh0L1xuXG4gICAgLy8gcmVtaW5kZXJEZXNjcmlwdGlvbiA9IFwidGhpcyBpcyB0ZXN0IHRlc3RcIlxuICAgIC8vIHJlbWluZGVyVGl0bGUgPSBcIlRlc3QgVGl0bGUgMTIzXCJcbiAgICAvLyByZW1pbmRlclByaW9yaXR5ID0gXCJoaWdoXCJcbiAgICAvLyByZW1pbmRlckR1ZURhdGUgPSBcIjExLTIyLTMzXCJcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCgpe1xuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlID09IHRydWUpe1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gZmFsc2VcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidG9nZ2xlZCBmYWxzZVwiKVxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5pc0NvbXBsZXRlID09IGZhbHNlKXtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidG9nZ2xlZCB0cnVlXCIpXG4gICAgICAgIH1lbHNlIGNvbnNvbGUubG9nKFwiZXJyb3Igc29tZXRoaW5nIHdlbnQgd3JvbmdcIilcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVtaW5kZXJUaXRsZSxcbiAgICAgIHJlbWluZGVyRGVzY3JpcHRpb24sXG4gICAgICByZW1pbmRlckR1ZURhdGUsXG4gICAgICByZW1pbmRlclByaW9yaXR5LFxuICAgICAgaXNDb21wbGV0ZSxcbiAgICAgIGNyZWF0ZVJlbWluZGVyLFxuICAgICAgdG9nZ2xlQ29tcGxldGVkLFxuICAgIH07XG4gIH07XG5cblxuXG5jb25zdCBjcmVhdGVQcm9qZWN0ID0gKG5hbWUpID0+IHtcbiAgICBsZXQgcHJvamVjdE5hbWUgPSBuYW1lXG4gICAgbGV0IHRhc2sgPSBbXVxuXG4gICAgZnVuY3Rpb24gYWRkVGFzaygpe1xuICAgICAgICB0aGlzLnRhc2sucHVzaChjcmVhdGVSZW1pbmRlcigpKVxuICAgIH1cblxuIFxuXG4gICAgcmV0dXJuIHsgXG4gICAgICAgIGFkZFRhc2ssXG4gICAgICAgIGNyZWF0ZVByb2plY3QsXG4gICAgICAgIHByb2plY3ROYW1lLFxuICAgICAgICB0YXNrXG4gICAgfTtcblxuICB9O1xuXG5cblxubGV0IHByb2plY3RzQ29udGFpbmVyID0gW11cblxud2luZG93LnByb2plY3RzQ29udGFpbmVyID0gcHJvamVjdHNDb250YWluZXJcblxucHJvamVjdHNDb250YWluZXIucHVzaChjcmVhdGVQcm9qZWN0KFwiaW5ib3hcIikpXG5cbnByb2plY3RzQ29udGFpbmVyWzBdLmFkZFRhc2soKVxuXG5wcm9qZWN0c0NvbnRhaW5lclswXS50YXNrWzBdLmlzQ29tcGxldGVcbnByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbMF0ucmVtaW5kZXJEZXNjcmlwdGlvbiA9IFwidGVzdCBkZXNjcmlwdGlvblwiXG5wcm9qZWN0c0NvbnRhaW5lclswXS50YXNrWzBdLnJlbWluZGVyVGl0bGUgPSBcIlRlc3QgUmVtaW5kZXJcIlxucHJvamVjdHNDb250YWluZXJbMF0udGFza1swXS5yZW1pbmRlckR1ZURhdGUgPSBcIjEyLTIyLTIzXCJcbnByb2plY3RzQ29udGFpbmVyWzBdLnRhc2tbMF0ucmVtaW5kZXJQcmlvcml0eSA9IFwiaGlnaFwiXG5cbnJlbmRlclJlbWluZGVyc0xpc3QoKVxuXG5cbiAgZXhwb3J0e2NyZWF0ZVJlbWluZGVyLGNyZWF0ZVByb2plY3QscHJvamVjdHNDb250YWluZXJ9XG4gIFxuXG5cbiIsImltcG9ydCB7YWRkTGlzdGVuZXJzfSBmcm9tICcuL0pTL2J1dHRvbnMuanMnXG5pbXBvcnQgeyBjcmVhdGVSZW1pbmRlciwgUHJvamVjdCB9IGZyb20gJy4vSlMvY29udHJvbCdcbmltcG9ydCB7IGRpc3BsYXlQcm9qZWN0TGlzdCwgZGlzcGxheVByb2plY3RUaXRsZSwgZGlzcGxheVJlbWluZGVycywgcmVuZGVyUmVtaW5kZXJzTGlzdCB9IGZyb20gJy4vSlMvZGlzcGxheSdcblxuLy8gd2luZG93LmRpc3BsYXlSZW1pbmRlcnMgPSBkaXNwbGF5UmVtaW5kZXJzXG5cblxuXG4vLyB3aW5kb3cuaW5ib3ggPSBpbmJveFxuXG4vLyB3aW5kb3cuZGlzcGxheVByb2plY3RUaXRsZSA9IGRpc3BsYXlQcm9qZWN0VGl0bGVcblxuLy8gd2luZG93LmRpc3BsYXlQcm9qZWN0TGlzdCA9IGRpc3BsYXlQcm9qZWN0TGlzdFxuXG5cbmNvbnN0IEFQUCA9IChmdW5jdGlvbiAoKXtcblxuXG4gIHJldHVybntcbiAgfVxuXG5cbn0pKCk7XG5cblxucmVuZGVyUmVtaW5kZXJzTGlzdCgpXG5hZGRMaXN0ZW5lcnMoKVxuXG5cbiIsImltcG9ydCB7IGNyZWF0ZVByb2plY3QsIHByb2plY3RzQ29udGFpbmVyIH0gZnJvbSBcIi4vY29udHJvbFwiXG5pbXBvcnQgeyBjbGVhclJlbWluZGVyTGlzdCwgcmVuZGVyUmVtaW5kZXJzTGlzdCB9IGZyb20gXCIuL2Rpc3BsYXlcIlxuXG4vLyBjb25zdCBjcmVhdGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIlwiKVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKGVsZW1lbnQpe1xuICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuICAgIH1cbiAgXG5mdW5jdGlvbiByZW1vdmVEaXNwbGF5KGVsZW1lbnQpe1xuICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0ID09IFwiZGVsZXRlLWJ0blwiKXtcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKClcbiAgICAgIH1lbHNlIGlmIChlbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0ID09IFwicHJvamVjdFwiKXtcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZSgpXG4gICAgICB9ZWxzZSBjb25zb2xlLmxvZyhcImVycm9yXCIpXG5cbn1cblxuXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcnMoKXtcbiAgICBjb25zdCBhZGRSZW1pbmRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXJlbWluZGVyXCIpXG4gICAgY29uc3QgaW5wdXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKVxuICAgIGNvbnN0IHVwZGF0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLXVwZGF0ZVwiKVxuICAgIGNvbnN0IGNsb3NlUmVtaW5kZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNsb3NlLWJ1dHRvblwiKVxuICAgIGNvbnN0IGVkaXRSZW1pbmRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC1idG5cIilcbiAgICBjb25zdCBjcmVhdGVSZW1pbmRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3JlYXRlLXJlbWluZGVyXCIpXG4gICAgY29uc3QgY3JlYXRlUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLXByb2plY3RcIilcbiAgICBjb25zdCB0b2dnbGVDb21wbGV0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNpcmNsZVwiKVxuICAgIGNvbnN0IGRlbGV0ZVJlbWluZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kZWxldGUtYnRuXCIpXG4gICAgXG4gICAgYWRkUmVtaW5kZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIHRvZ2dsZU1vZGFsKGUpe1xuICAgICAgICBpbnB1dEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICAgIH0pO1xuICAgIFxuICAgIGNsb3NlUmVtaW5kZXJCdG4uZm9yRWFjaCggZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjbG9zZU1vZGFsKGVsZW1lbnQpXG4gICAgICB9KVxuICAgIH0pO1xuICAgXG4gICAgY3JlYXRlUmVtaW5kZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGUsIHByb2plY3QgPSBwcm9qZWN0c0NvbnRhaW5lclswXSkgPT4geyAgICBcbiAgICAgICAgcHJvamVjdC5hZGRUYXNrKClcbiAgICAgICAgY2xlYXJSZW1pbmRlckxpc3QoKVxuICAgICAgICByZW5kZXJSZW1pbmRlcnNMaXN0KClcbiAgICAgICAgaW5wdXRGb3JtLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgICAgICAgYWRkTGlzdGVuZXJzKClcbiAgICAgICAgY29uc29sZS5sb2coXCJidXR0b24gY2xpY2tlZFwiKVxuICAgfSk7XG5cbiAgIGNyZWF0ZVByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGUpID0+IHsgICAgXG4gICAgd2luZG93LnByb2plY3RzQ29udGFpbmVyID0gY3JlYXRlUHJvamVjdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtbmFtZVwiKS52YWx1ZSlcbiAgICBjb25zb2xlLmxvZyhcImJ1dHRvbiBjbGlja2VkXCIpXG59KTtcbiAgIFxuICBcbiAgIGRlbGV0ZVJlbWluZGVyQnRuLmZvckVhY2goIGZ1bmN0aW9uIChpLCBpbmRleCwgKSB7XG4gICAgaS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhc2tcIiwgaW5kZXgpO1xuICAgIGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgcmVtb3ZlRGlzcGxheShpKVxuICAgICAgbGV0IHRhc2tJbmRleCA9IGkuZ2V0QXR0cmlidXRlKFwiZGF0YS10YXNrXCIpO1xuICAgICAgcHJvamVjdHNDb250YWluZXJbMF0udGFzay5zcGxpY2UodGFza0luZGV4LCAxKTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICAgIGVkaXRSZW1pbmRlckJ0bi5mb3JFYWNoKCBmdW5jdGlvbiAoaSkge1xuICAgICAgaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHVwZGF0ZUZvcm0uY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKVxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIC8vIHRvZ2dsZUNvbXBsZXRlZC5mb3JFYWNoKCBmdW5jdGlvbiAoaSwgaW5kZXgsICkge1xuICAgIC8vICAgICBpLnNldEF0dHJpYnV0ZShcImRhdGEtdGFza1wiLCBpbmRleCk7XG4gICAgLy8gICAgIGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICAgIGxldCB0YXNrSW5kZXggPSBpIC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRhc2tcIik7XG4gICAgLy8gICAgICAgaW5ib3gudGFzay5zcGxpY2UodGFza0luZGV4LCAxKTtcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gICB9KTtcbiAgXG59XG5cblxuXG5cbiAgZXhwb3J0IHthZGRMaXN0ZW5lcnN9Il0sIm5hbWVzIjpbImRpc3BsYXlSZW1pbmRlcnMiLCJyZW1pbmRlclRpdGxlIiwicmVtaW5kZXJEZXNjcmlwdGlvbiIsInJlbWluZGVyRHVlRGF0ZSIsInJlbWluZGVyUHJpb3JpdHkiLCJpc0NvbXBsZXRlIiwicmVtaW5kZXJJZCIsImNvbXBsZXRlZENvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlbWluZGVyRGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImNpcmNsZURpdiIsInRhc2tTcGFuIiwidGV4dENvbnRlbnQiLCJkZXNjcmlwdGlvblNwYW4iLCJyaWdodFNpZGVEaXYiLCJkdWVEYXRlU3BhbiIsImVkaXRCdG5JbWciLCJzcmMiLCJhbHQiLCJkZWxldGVCdG5JbWciLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsInJlbWluZGVyQ29udGFpbmVyIiwicmVuZGVyUmVtaW5kZXJzTGlzdCIsImkiLCJwcm9qZWN0c0NvbnRhaW5lciIsInRhc2siLCJsZW5ndGgiLCJjcmVhdGVSZW1pbmRlciIsImlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsIkRhdGUiLCJub3ciLCJ0b2dnbGVDb21wbGV0ZWQiLCJ0aGlzIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZVByb2plY3QiLCJuYW1lIiwiYWRkVGFzayIsInB1c2giLCJwcm9qZWN0TmFtZSIsIndpbmRvdyIsImFkZExpc3RlbmVycyIsImFkZFJlbWluZGVyQnRuIiwiaW5wdXRGb3JtIiwidXBkYXRlRm9ybSIsImNsb3NlUmVtaW5kZXJCdG4iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWRpdFJlbWluZGVyQnRuIiwiY3JlYXRlUmVtaW5kZXJCdG4iLCJjcmVhdGVQcm9qZWN0QnRuIiwiZGVsZXRlUmVtaW5kZXJCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInJlbW92ZSIsImZvckVhY2giLCJlbGVtZW50IiwicGFyZW50RWxlbWVudCIsImNsb3NlTW9kYWwiLCJwcm9qZWN0IiwiaW5uZXJIVE1MIiwiY2xlYXJSZW1pbmRlckxpc3QiLCJpbmRleCIsInBhcmVudE5vZGUiLCJ0YXNrSW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJzcGxpY2UiLCJ0b2dnbGUiXSwic291cmNlUm9vdCI6IiJ9